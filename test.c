
#include <stdio.h> 
#include <stdlib.h>
#include <math.h>
#include "srtmHgtReader.h"


//20110320-projizdka-Okor.gpx, heights using CGIAR SRTM and PHP Geotiff reader
float latlons[660][4] = {
    { 50.090818333, 14.322665, 331},
    { 50.090846666, 14.323394999, 330},
    { 50.09107, 14.322158333, 331},
    { 50.091011666, 14.321439999, 332},
    { 50.091, 14.321396666, 332},
    { 50.091034999, 14.321378333, 332},
    { 50.092618333, 14.321098333, 333},
    { 50.092616666, 14.321141666, 333},
    { 50.092633333, 14.321141666, 333},
    { 50.092651666, 14.321141666, 333},
    { 50.0927, 14.321134999, 332},
    { 50.092753333, 14.321109999, 332},
    { 50.092781666, 14.321081666, 332},
    { 50.092808333, 14.32103, 332},
    { 50.092933333, 14.320663333, 332},
    { 50.093043333, 14.319443333, 334},
    { 50.093069999, 14.319093333, 334},
    { 50.093108333, 14.319033333, 334},
    { 50.093141666, 14.319033333, 334},
    { 50.093224999, 14.319065, 333},
    { 50.093731666, 14.319363333, 327},
    { 50.093744999, 14.319343333, 327},
    { 50.093769999, 14.319288333, 326},
    { 50.093783333, 14.319253333, 326},
    { 50.093871666, 14.319095, 326},
    { 50.093933333, 14.318981666, 325},
    { 50.093963333, 14.318863333, 325},
    { 50.093971666, 14.31874, 325},
    { 50.093966666, 14.31844, 326},
    { 50.093973333, 14.317553333, 329},
    { 50.093994999, 14.317479999, 329},
    { 50.094171666, 14.317051666, 329},
    { 50.094396666, 14.316658333, 325},
    { 50.094446666, 14.316441666, 325},
    { 50.094718333, 14.315739999, 324},
    { 50.094835, 14.3154, 324},
    { 50.09505, 14.314568333, 325},
    { 50.09508, 14.314328333, 326},
    { 50.095125, 14.314223333, 326},
    { 50.095188333, 14.31414, 325},
    { 50.095386666, 14.313945, 324},
    { 50.096208333, 14.31338, 322},
    { 50.096321666, 14.313193333, 323},
    { 50.09635, 14.313105, 324},
    { 50.096413333, 14.312871666, 326},
    { 50.096768333, 14.311493333, 334},
    { 50.096809999, 14.311166666, 334},
    { 50.096854999, 14.310831666, 334},
    { 50.096903333, 14.310506666, 333},
    { 50.09691, 14.310308333, 333},
    { 50.096858333, 14.30992, 336},
    { 50.096853333, 14.309713333, 336},
    { 50.096874999, 14.308161666, 334},
    { 50.09687, 14.307658333, 334},
    { 50.0968, 14.307375, 336},
    { 50.096713333, 14.307045, 338},
    { 50.096629999, 14.306729999, 340},
    { 50.096573333, 14.306103333, 340},
    { 50.096556666, 14.304816666, 340},
    { 50.096609999, 14.303603333, 337},
    { 50.096564999, 14.303468333, 338},
    { 50.096408333, 14.302669999, 339},
    { 50.09644, 14.302536666, 338},
    { 50.096643333, 14.302166666, 335},
    { 50.096715, 14.302179999, 335},
    { 50.097463333, 14.301726666, 340},
    { 50.097521666, 14.301724999, 341},
    { 50.097531666, 14.301745, 341},
    { 50.09754, 14.301774999, 341},
    { 50.097565, 14.301833333, 341},
    { 50.097601666, 14.301926666, 341},
    { 50.097793333, 14.302248333, 342},
    { 50.098638333, 14.303646666, 349},
    { 50.098705, 14.30377, 349},
    { 50.098855, 14.303946666, 350},
    { 50.098888333, 14.303961666, 350},
    { 50.098979999, 14.303991666, 351},
    { 50.099856666, 14.303496666, 355},
    { 50.099935, 14.303399999, 356},
    { 50.100138333, 14.302983333, 355},
    { 50.100108333, 14.302866666, 355},
    { 50.100074999, 14.302731666, 355},
    { 50.100046666, 14.301653333, 352},
    { 50.100419999, 14.299948333, 354},
    { 50.100573333, 14.299606666, 354},
    { 50.10067, 14.299568333, 354},
    { 50.100724999, 14.299578333, 354},
    { 50.100821666, 14.299603333, 354},
    { 50.100934999, 14.299658333, 354},
    { 50.101196666, 14.299828333, 355},
    { 50.101475, 14.300146666, 356},
    { 50.101563333, 14.300226666, 356},
    { 50.101725, 14.300425, 357},
    { 50.101966666, 14.3008, 358},
    { 50.102198333, 14.301073333, 358},
    { 50.102296666, 14.301238333, 359},
    { 50.102479999, 14.30137, 359},
    { 50.102601666, 14.301368333, 358},
    { 50.102848333, 14.30099, 357},
    { 50.103355, 14.300368333, 355},
    { 50.103749999, 14.299803333, 354},
    { 50.10417, 14.299248333, 353},
    { 50.104191666, 14.299188333, 353},
    { 50.104303333, 14.298866666, 353},
    { 50.105766666, 14.296683333, 355},
    { 50.105778333, 14.296638333, 355},
    { 50.105769999, 14.296564999, 355},
    { 50.105744999, 14.29653, 355},
    { 50.104956666, 14.29541, 354},
    { 50.104938333, 14.295289999, 354},
    { 50.104953333, 14.295171666, 354},
    { 50.105049999, 14.294299999, 355},
    { 50.105083333, 14.294275, 355},
    { 50.106998333, 14.293293333, 355},
    { 50.107638333, 14.292984999, 355},
    { 50.107736666, 14.293028333, 355},
    { 50.107851666, 14.293121666, 355},
    { 50.109634999, 14.294621666, 354},
    { 50.110956666, 14.295276666, 354},
    { 50.112201666, 14.295478333, 352},
    { 50.112864999, 14.295761666, 352},
    { 50.112881666, 14.295776666, 352},
    { 50.112903333, 14.295776666, 352},
    { 50.112921666, 14.295769999, 351},
    { 50.112951666, 14.295786666, 351},
    { 50.113918333, 14.296155, 351},
    { 50.114973333, 14.296421666, 350},
    { 50.115946666, 14.296481666, 351},
    { 50.116624999, 14.296318333, 348},
    { 50.117166666, 14.296106666, 342},
    { 50.11728, 14.296108333, 341},
    { 50.117451666, 14.296211666, 340},
    { 50.117494999, 14.296216666, 339},
    { 50.117518333, 14.296183333, 339},
    { 50.117533333, 14.296121666, 338},
    { 50.117543333, 14.295953333, 337},
    { 50.11753, 14.295545, 335},
    { 50.117485, 14.295325, 334},
    { 50.116351666, 14.292108333, 333},
    { 50.115871666, 14.290715, 332},
    { 50.115871666, 14.290613333, 332},
    { 50.115891666, 14.290514999, 331},
    { 50.115929999, 14.290426666, 331},
    { 50.11603, 14.290276666, 331},
    { 50.116483333, 14.289708333, 335},
    { 50.116591666, 14.289681666, 336},
    { 50.116661666, 14.289699999, 337},
    { 50.116725, 14.289746666, 337},
    { 50.116928333, 14.290046666, 338},
    { 50.118038333, 14.292003333, 339},
    { 50.118126666, 14.292086666, 339},
    { 50.118221666, 14.292139999, 340},
    { 50.118319999, 14.292163333, 341},
    { 50.118416666, 14.292153333, 342},
    { 50.118555, 14.292091666, 344},
    { 50.118721666, 14.291946666, 345},
    { 50.119448333, 14.29114, 350},
    { 50.119498333, 14.290993333, 350},
    { 50.119509999, 14.290883333, 350},
    { 50.119516666, 14.290611666, 350},
    { 50.119533333, 14.290565, 350},
    { 50.11959, 14.290491666, 351},
    { 50.119663333, 14.290468333, 351},
    { 50.120038333, 14.290391666, 351},
    { 50.120178333, 14.290278333, 351},
    { 50.1206, 14.289781666, 351},
    { 50.1206, 14.28978, 351},
    { 50.1206, 14.28978, 351},
    { 50.120606666, 14.289789999, 351},
    { 50.120636666, 14.289741666, 351},
    { 50.120751666, 14.289633333, 351},
    { 50.120776666, 14.289628333, 351},
    { 50.122898333, 14.288908333, 350},
    { 50.126096666, 14.287081666, 346},
    { 50.126964999, 14.286461666, 345},
    { 50.128599999, 14.284485, 341},
    { 50.128799999, 14.284129999, 340},
    { 50.129026666, 14.283566666, 339},
    { 50.129586666, 14.281625, 333},
    { 50.12964, 14.281558333, 333},
    { 50.129701666, 14.281511666, 332},
    { 50.129831666, 14.281461666, 332},
    { 50.130631666, 14.281243333, 323},
    { 50.130693333, 14.281185, 322},
    { 50.130749999, 14.281105, 322},
    { 50.130794999, 14.281008333, 321},
    { 50.130895, 14.280653333, 320},
    { 50.131021666, 14.280161666, 320},
    { 50.131123333, 14.279948333, 319},
    { 50.131259999, 14.279773333, 317},
    { 50.132283333, 14.278734999, 304},
    { 50.132408333, 14.27867, 303},
    { 50.132595, 14.278639999, 301},
    { 50.132621666, 14.27867, 301},
    { 50.132713333, 14.278846666, 300},
    { 50.132733333, 14.278918333, 300},
    { 50.132801666, 14.27945, 299},
    { 50.132806666, 14.279664999, 299},
    { 50.132636666, 14.282368333, 292},
    { 50.132698333, 14.282886666, 290},
    { 50.132744999, 14.282989999, 290},
    { 50.132806666, 14.283073333, 289},
    { 50.132881666, 14.283131666, 289},
    { 50.134475, 14.2841, 292},
    { 50.13528, 14.284121666, 300},
    { 50.135429999, 14.284029999, 302},
    { 50.135494999, 14.283933333, 303},
    { 50.135533333, 14.283811666, 304},
    { 50.135894999, 14.281055, 317},
    { 50.135893333, 14.280423333, 320},
    { 50.135838333, 14.28029, 320},
    { 50.135766666, 14.280226666, 320},
    { 50.135575, 14.280039999, 318},
    { 50.135576666, 14.280003333, 319},
    { 50.135586666, 14.279975, 319},
    { 50.135603333, 14.279951666, 319},
    { 50.135623333, 14.279936666, 319},
    { 50.135646666, 14.279928333, 320},
    { 50.135691666, 14.279928333, 320},
    { 50.135745, 14.279939999, 321},
    { 50.136074999, 14.27997, 324},
    { 50.136418333, 14.279835, 328},
    { 50.137176666, 14.279809999, 333},
    { 50.139326666, 14.278594999, 338},
    { 50.140663333, 14.278256666, 336},
    { 50.141174999, 14.27828, 334},
    { 50.143005, 14.279013333, 327},
    { 50.144553333, 14.279593333, 325},
    { 50.147806666, 14.280435, 328},
    { 50.151728333, 14.282695, 313},
    { 50.153005, 14.283396666, 310},
    { 50.153073333, 14.283303333, 309},
    { 50.153131666, 14.283151666, 309},
    { 50.153141666, 14.28307, 309},
    { 50.153186666, 14.282949999, 310},
    { 50.153424999, 14.28247, 310},
    { 50.153653333, 14.281986666, 310},
    { 50.153664999, 14.281906666, 310},
    { 50.153696666, 14.281728333, 310},
    { 50.154361666, 14.279166666, 307},
    { 50.154348333, 14.27917, 307},
    { 50.154339999, 14.279193333, 307},
    { 50.154338333, 14.279228333, 307},
    { 50.154339999, 14.279268333, 307},
    { 50.154335, 14.279346666, 307},
    { 50.154313333, 14.279424999, 307},
    { 50.154301666, 14.279421666, 307},
    { 50.154294999, 14.279405, 307},
    { 50.154299999, 14.279379999, 307},
    { 50.154313333, 14.279355, 307},
    { 50.154328333, 14.279325, 307},
    { 50.15437, 14.279181666, 307},
    { 50.154881666, 14.277155, 306},
    { 50.1552, 14.276498333, 304},
    { 50.157396666, 14.272463333, 297},
    { 50.15903, 14.270233333, 292},
    { 50.159218333, 14.269869999, 290},
    { 50.16125, 14.264519999, 279},
    { 50.162338333, 14.262985, 279},
    { 50.162481666, 14.262746666, 280},
    { 50.162525, 14.262705, 281},
    { 50.162628333, 14.262589999, 282},
    { 50.162776666, 14.262276666, 283},
    { 50.162881666, 14.261508333, 284},
    { 50.162894999, 14.260813333, 285},
    { 50.162869999, 14.26063, 285},
    { 50.162775, 14.260366666, 284},
    { 50.162565, 14.260035, 283},
    { 50.162453333, 14.259911666, 282},
    { 50.162223333, 14.259386666, 279},
    { 50.162186666, 14.259268333, 279},
    { 50.162095, 14.259064999, 278},
    { 50.161948333, 14.258654999, 276},
    { 50.161946666, 14.258554999, 276},
    { 50.161963333, 14.258336666, 275},
    { 50.162005, 14.258268333, 276},
    { 50.16221, 14.257943333, 276},
    { 50.162289999, 14.257856666, 276},
    { 50.162343333, 14.257768333, 276},
    { 50.162438333, 14.257551666, 275},
    { 50.162481666, 14.257518333, 275},
    { 50.162568333, 14.257523333, 275},
    { 50.162611666, 14.257535, 275},
    { 50.162655, 14.257526666, 275},
    { 50.162698333, 14.257503333, 275},
    { 50.163443333, 14.256933333, 274},
    { 50.163928333, 14.256343333, 274},
    { 50.164013333, 14.25628, 275},
    { 50.164048333, 14.256214999, 275},
    { 50.164056666, 14.256175, 275},
    { 50.16405, 14.256118333, 275},
    { 50.164023333, 14.256071666, 275},
    { 50.163738333, 14.255268333, 275},
    { 50.163728333, 14.254966666, 276},
    { 50.163755, 14.254913333, 276},
    { 50.163773333, 14.254906666, 276},
    { 50.163789999, 14.254915, 276},
    { 50.163801666, 14.254925, 276},
    { 50.163795, 14.254871666, 277},
    { 50.163848333, 14.254949999, 277},
    { 50.163876666, 14.254978333, 277},
    { 50.163876666, 14.254978333, 277},
    { 50.163814999, 14.254891666, 277},
    { 50.163814999, 14.254891666, 277},
    { 50.163795, 14.254905, 277},
    { 50.163795, 14.254905, 277},
    { 50.163795, 14.254905, 277},
    { 50.163795, 14.254905, 277},
    { 50.163795, 14.254905, 277},
    { 50.163795, 14.254905, 277},
    { 50.163795, 14.254905, 277},
    { 50.163735, 14.254773333, 277},
    { 50.163735, 14.254773333, 277},
    { 50.163771666, 14.254786666, 277},
    { 50.163784999, 14.254783333, 277},
    { 50.163793333, 14.25477, 277},
    { 50.163795, 14.254756666, 278},
    { 50.163791666, 14.254753333, 278},
    { 50.163781666, 14.254759999, 277},
    { 50.163769999, 14.25477, 277},
    { 50.163733333, 14.254793333, 277},
    { 50.163711666, 14.254816666, 276},
    { 50.163694999, 14.254856666, 276},
    { 50.163683333, 14.25491, 276},
    { 50.163681666, 14.254971666, 275},
    { 50.163694999, 14.255093333, 275},
    { 50.163813333, 14.255649999, 275},
    { 50.163854999, 14.255824999, 275},
    { 50.163975, 14.256209999, 275},
    { 50.16324, 14.257193333, 274},
    { 50.162835, 14.257416666, 275},
    { 50.162791666, 14.257391666, 275},
    { 50.16277, 14.257355, 275},
    { 50.162725, 14.257345, 275},
    { 50.162685, 14.257311666, 275},
    { 50.162611666, 14.257186666, 275},
    { 50.162588333, 14.256666666, 275},
    { 50.162484999, 14.256494999, 276},
    { 50.162415, 14.256308333, 277},
    { 50.162374999, 14.256076666, 279},
    { 50.161979999, 14.253235, 291},
    { 50.161761666, 14.249959999, 303},
    { 50.161676666, 14.248473333, 305},
    { 50.16165, 14.248463333, 305},
    { 50.161428333, 14.248478333, 305},
    { 50.157221666, 14.249251666, 289},
    { 50.156098333, 14.249141666, 284},
    { 50.155909999, 14.249198333, 283},
    { 50.155668333, 14.249348333, 284},
    { 50.155548333, 14.249513333, 285},
    { 50.155495, 14.249696666, 285},
    { 50.155481666, 14.249868333, 286},
    { 50.15552, 14.250368333, 287},
    { 50.155529999, 14.250841666, 288},
    { 50.155561666, 14.251058333, 288},
    { 50.155573333, 14.251049999, 288},
    { 50.155581666, 14.25103, 288},
    { 50.155586666, 14.250998333, 288},
    { 50.155586666, 14.250956666, 287},
    { 50.155589999, 14.249788333, 285},
    { 50.155614999, 14.249666666, 285},
    { 50.155656666, 14.249555, 284},
    { 50.155884999, 14.2492, 283},
    { 50.155965, 14.249178333, 283},
    { 50.156278333, 14.249156666, 285},
    { 50.156513333, 14.249136666, 285},
    { 50.156616666, 14.249085, 286},
    { 50.156703333, 14.248996666, 286},
    { 50.156736666, 14.248939999, 287},
    { 50.156776666, 14.24881, 287},
    { 50.156778333, 14.248676666, 287},
    { 50.156075, 14.243986666, 291},
    { 50.155963333, 14.243621666, 291},
    { 50.155526666, 14.242663333, 289},
    { 50.154736666, 14.241161666, 287},
    { 50.154523333, 14.240935, 286},
    { 50.154076666, 14.240645, 285},
    { 50.153451666, 14.240365, 284},
    { 50.153301666, 14.240391666, 284},
    { 50.153165, 14.240479999, 283},
    { 50.152814999, 14.240766666, 284},
    { 50.152696666, 14.240795, 284},
    { 50.152639999, 14.24079, 285},
    { 50.152301666, 14.240728333, 285},
    { 50.1522, 14.240761666, 285},
    { 50.152148333, 14.240795, 285},
    { 50.152068333, 14.240891666, 285},
    { 50.152013333, 14.241001666, 285},
    { 50.151653333, 14.242101666, 291},
    { 50.151524999, 14.242283333, 292},
    { 50.151429999, 14.242354999, 293},
    { 50.151314999, 14.242385, 293},
    { 50.151049999, 14.242374999, 294},
    { 50.150714999, 14.242218333, 293},
    { 50.150284999, 14.241716666, 290},
    { 50.150133333, 14.241561666, 290},
    { 50.150041666, 14.241456666, 290},
    { 50.14958, 14.240881666, 288},
    { 50.149459999, 14.240806666, 288},
    { 50.149336666, 14.240783333, 288},
    { 50.149213333, 14.240821666, 288},
    { 50.149099999, 14.240906666, 288},
    { 50.148103333, 14.241958333, 289},
    { 50.146043333, 14.243341666, 302},
    { 50.144109999, 14.244531666, 311},
    { 50.143903333, 14.24463, 312},
    { 50.143728333, 14.244638333, 313},
    { 50.143468333, 14.24451, 315},
    { 50.142229999, 14.243756666, 319},
    { 50.141361666, 14.243028333, 322},
    { 50.140481666, 14.242599999, 323},
    { 50.140281666, 14.242594999, 323},
    { 50.139294999, 14.242828333, 322},
    { 50.138998333, 14.243001666, 322},
    { 50.138631666, 14.243399999, 324},
    { 50.138406666, 14.243864999, 324},
    { 50.138148333, 14.244476666, 325},
    { 50.137858333, 14.245093333, 324},
    { 50.137703333, 14.245471666, 324},
    { 50.137633333, 14.245571666, 324},
    { 50.137548333, 14.245635, 324},
    { 50.137405, 14.245665, 325},
    { 50.137306666, 14.245636666, 325},
    { 50.137218333, 14.245573333, 326},
    { 50.136873333, 14.24526, 327},
    { 50.136858333, 14.245284999, 327},
    { 50.136809999, 14.245213333, 327},
    { 50.136736666, 14.245129999, 328},
    { 50.136366666, 14.244641666, 329},
    { 50.135469999, 14.243128333, 330},
    { 50.135071666, 14.242298333, 327},
    { 50.134796666, 14.241233333, 323},
    { 50.134636666, 14.240956666, 321},
    { 50.134205, 14.240271666, 319},
    { 50.133908333, 14.239449999, 320},
    { 50.133863333, 14.239193333, 320},
    { 50.133805, 14.238763333, 321},
    { 50.13371, 14.238483333, 321},
    { 50.133569999, 14.238143333, 322},
    { 50.133333333, 14.237339999, 324},
    { 50.13324, 14.23723, 325},
    { 50.13313, 14.237188333, 325},
    { 50.131566666, 14.236985, 333},
    { 50.130696666, 14.236606666, 336},
    { 50.130668333, 14.236658333, 336},
    { 50.130576666, 14.236828333, 336},
    { 50.130049999, 14.237761666, 337},
    { 50.129125, 14.238853333, 338},
    { 50.128759999, 14.239553333, 339},
    { 50.127188333, 14.243954999, 341},
    { 50.125165, 14.248181666, 347},
    { 50.123821666, 14.25103, 349},
    { 50.123016666, 14.252601666, 349},
    { 50.122966666, 14.252629999, 349},
    { 50.122925, 14.252613333, 349},
    { 50.122886666, 14.252571666, 349},
    { 50.122826666, 14.252473333, 349},
    { 50.121496666, 14.247844999, 351},
    { 50.120348333, 14.242878333, 351},
    { 50.119329999, 14.237538333, 354},
    { 50.117751666, 14.232658333, 354},
    { 50.116444999, 14.228093333, 354},
    { 50.115201666, 14.223383333, 355},
    { 50.114796666, 14.222009999, 355},
    { 50.113869999, 14.219956666, 356},
    { 50.113776666, 14.219728333, 355},
    { 50.113706666, 14.219353333, 354},
    { 50.113726666, 14.219036666, 353},
    { 50.113718333, 14.218963333, 353},
    { 50.113716666, 14.218875, 353},
    { 50.113694999, 14.218698333, 353},
    { 50.113656666, 14.218618333, 352},
    { 50.113311666, 14.217873333, 350},
    { 50.113271666, 14.217816666, 350},
    { 50.113179999, 14.217745, 350},
    { 50.113086666, 14.217723333, 351},
    { 50.112198333, 14.21784, 353},
    { 50.110849999, 14.218646666, 356},
    { 50.109149999, 14.220074999, 355},
    { 50.10714, 14.220863333, 356},
    { 50.106903333, 14.220856666, 357},
    { 50.105413333, 14.220561666, 358},
    { 50.104378333, 14.219883333, 360},
    { 50.102446666, 14.218376666, 361},
    { 50.100259999, 14.215748333, 366},
    { 50.099553333, 14.214294999, 367},
    { 50.099555, 14.214235, 367},
    { 50.099568333, 14.214209999, 367},
    { 50.099591666, 14.214188333, 367},
    { 50.101675, 14.212261666, 367},
    { 50.102471666, 14.21137, 368},
    { 50.102555, 14.211195, 368},
    { 50.102595, 14.210998333, 368},
    { 50.102595, 14.210858333, 368},
    { 50.102564999, 14.210729999, 368},
    { 50.102535, 14.210679999, 368},
    { 50.102496666, 14.210644999, 368},
    { 50.102406666, 14.210616666, 368},
    { 50.098739999, 14.210705, 368},
    { 50.095611666, 14.210726666, 370},
    { 50.095565, 14.210771666, 370},
    { 50.095536666, 14.210839999, 370},
    { 50.095508333, 14.210988333, 370},
    { 50.095151666, 14.214005, 370},
    { 50.095095, 14.214114999, 370},
    { 50.095019999, 14.214203333, 370},
    { 50.094931666, 14.214261666, 370},
    { 50.094003333, 14.214451666, 370},
    { 50.091013333, 14.214811666, 367},
    { 50.089489999, 14.214781666, 366},
    { 50.089149999, 14.214768333, 365},
    { 50.088823333, 14.214866666, 365},
    { 50.088818333, 14.214909999, 365},
    { 50.088736666, 14.214975, 365},
    { 50.088663333, 14.214986666, 365},
    { 50.087731666, 14.215203333, 366},
    { 50.087614999, 14.215275, 366},
    { 50.087429999, 14.215351666, 366},
    { 50.087409999, 14.215395, 366},
    { 50.087401666, 14.215513333, 366},
    { 50.087371666, 14.21616, 366},
    { 50.087316666, 14.216523333, 367},
    { 50.087319999, 14.2187, 366},
    { 50.087243333, 14.219048333, 366},
    { 50.087133333, 14.219345, 366},
    { 50.086586666, 14.220179999, 367},
    { 50.085524999, 14.221828333, 368},
    { 50.085221666, 14.223088333, 370},
    { 50.084533333, 14.227263333, 375},
    { 50.08364, 14.232396666, 373},
    { 50.082983333, 14.235595, 373},
    { 50.082691666, 14.239744999, 374},
    { 50.082743333, 14.24032, 374},
    { 50.083204999, 14.243823333, 367},
    { 50.083281666, 14.248406666, 357},
    { 50.08321, 14.248896666, 356},
    { 50.083055, 14.249354999, 356},
    { 50.081426666, 14.253524999, 348},
    { 50.081036666, 14.256153333, 347},
    { 50.081034999, 14.256365, 346},
    { 50.081065, 14.256619999, 346},
    { 50.081356666, 14.258256666, 345},
    { 50.081344999, 14.259153333, 346},
    { 50.081328333, 14.259466666, 346},
    { 50.081359999, 14.259579999, 347},
    { 50.081414999, 14.259668333, 347},
    { 50.082613333, 14.260851666, 353},
    { 50.082976666, 14.261205, 354},
    { 50.083145, 14.261475, 354},
    { 50.083191666, 14.261628333, 354},
    { 50.083201666, 14.261748333, 354},
    { 50.083196666, 14.262633333, 354},
    { 50.083244999, 14.26281, 354},
    { 50.083361666, 14.262998333, 354},
    { 50.083474999, 14.26308, 355},
    { 50.083731666, 14.263193333, 356},
    { 50.083798333, 14.263306666, 357},
    { 50.08384, 14.263441666, 357},
    { 50.083868333, 14.264241666, 358},
    { 50.083878333, 14.264716666, 359},
    { 50.084046666, 14.265968333, 361},
    { 50.084118333, 14.266444999, 362},
    { 50.084099999, 14.266738333, 362},
    { 50.08371, 14.269686666, 360},
    { 50.08375, 14.270143333, 361},
    { 50.083901666, 14.271024999, 362},
    { 50.083888333, 14.271321666, 362},
    { 50.08377, 14.272479999, 362},
    { 50.083826666, 14.272896666, 362},
    { 50.083898333, 14.273121666, 363},
    { 50.084018333, 14.273381666, 364},
    { 50.084215, 14.273626666, 365},
    { 50.084623333, 14.273841666, 368},
    { 50.084673333, 14.273858333, 369},
    { 50.084699999, 14.273875, 369},
    { 50.084728333, 14.273873333, 369},
    { 50.084783333, 14.27388, 369},
    { 50.084836666, 14.273908333, 370},
    { 50.084968333, 14.273939999, 371},
    { 50.084976666, 14.27397, 371},
    { 50.084976666, 14.27397, 371},
    { 50.084988333, 14.27397, 371},
    { 50.085028333, 14.273979999, 371},
    { 50.085211666, 14.274071666, 372},
    { 50.085066666, 14.274561666, 371},
    { 50.085054999, 14.274628333, 371},
    { 50.084546666, 14.27724, 366},
    { 50.084586666, 14.27786, 365},
    { 50.085008333, 14.281331666, 366},
    { 50.085251666, 14.28458, 364},
    { 50.085236666, 14.284756666, 364},
    { 50.085181666, 14.285019999, 363},
    { 50.08482, 14.286701666, 360},
    { 50.084708333, 14.287995, 358},
    { 50.084521666, 14.288471666, 356},
    { 50.084506666, 14.288691666, 355},
    { 50.085068333, 14.293521666, 354},
    { 50.085068333, 14.29357, 354},
    { 50.085071666, 14.293654999, 353},
    { 50.085129999, 14.29418, 352},
    { 50.085121666, 14.29424, 352},
    { 50.085076666, 14.294359999, 352},
    { 50.084883333, 14.294621666, 350},
    { 50.084843333, 14.294774999, 350},
    { 50.084811666, 14.295059999, 349},
    { 50.084821666, 14.295216666, 349},
    { 50.084858333, 14.295346666, 349},
    { 50.084921666, 14.295455, 349},
    { 50.084963333, 14.295495, 349},
    { 50.085278333, 14.29573, 350},
    { 50.085389999, 14.295918333, 350},
    { 50.085428333, 14.29593, 350},
    { 50.085591666, 14.295885, 350},
    { 50.086213333, 14.295668333, 353},
    { 50.086239999, 14.295685, 353},
    { 50.086263333, 14.295714999, 353},
    { 50.086293333, 14.295814999, 353},
    { 50.0863, 14.295875, 353},
    { 50.086339999, 14.296189999, 352},
    { 50.087161666, 14.301236666, 347},
    { 50.087613333, 14.304223333, 347},
    { 50.087569999, 14.30438, 347},
    { 50.087503333, 14.304444999, 347},
    { 50.087078333, 14.304724999, 345},
    { 50.086888333, 14.304788333, 344},
    { 50.086848333, 14.305041666, 343},
    { 50.086813333, 14.305658333, 343},
    { 50.086821666, 14.305728333, 343},
    { 50.086843333, 14.305776666, 343},
    { 50.086869999, 14.305794999, 343},
    { 50.086918333, 14.305773333, 343},
    { 50.087171666, 14.305543333, 345},
    { 50.087234999, 14.305585, 345},
    { 50.087281666, 14.305624999, 345},
    { 50.087351666, 14.305749999, 345},
    { 50.087688333, 14.306353333, 345},
    { 50.087694999, 14.306416666, 345},
    { 50.087694999, 14.306606666, 344},
    { 50.08776, 14.306756666, 345},
    { 50.089183333, 14.308863333, 348},
    { 50.089228333, 14.308904999, 348},
    { 50.089356666, 14.309084999, 348},
    { 50.089404999, 14.309129999, 348},
    { 50.089543333, 14.309248333, 348},
    { 50.089575, 14.309293333, 348},
    { 50.090008333, 14.310118333, 347},
    { 50.090146666, 14.310563333, 346},
    { 50.090994999, 14.315678333, 338},
    { 50.091058333, 14.31623, 338},
    { 50.091021666, 14.316476666, 337},
    { 50.090363333, 14.319333333, 333},
    { 50.090241666, 14.32135, 330},
    { 50.090246666, 14.321431666, 330},
    { 50.090266666, 14.3215, 330},
    { 50.090301666, 14.321543333, 330},
    { 50.090343333, 14.321559999, 330},
    { 50.090654999, 14.32151, 331},
    { 50.090704999, 14.32141, 331},
    { 50.090704999, 14.32141, 331},
    { 50.090698333, 14.321403333, 331}
};

void test(){

    int i;
    for (i = 0; i < 660; ++i) {
        latlons[i][3] = srtmGetElevation(latlons[i][0], latlons[i][1]);
        
        
        float diff = fabs(latlons[i][2] - latlons[i][3]);
        if(diff > 0.6){
            printf("ERROR: saved data: %0.0f vs this: %f (difference %f)\n", latlons[i][2], latlons[i][3], diff);
        }
    }

    printf("Test of 660 values finished OK.\n");
}


double distance(double lat1,double lon1,double lat2,double lon2)
{
 double dlon = lon1 - lon2;
 double dlat = lat1 - lat2;

 dlon = dlon * (M_PI/180.0); //degrees to radians
 dlat = dlat * (M_PI/180.0);
 
 double a1,a2,a,sa,c,d;

 if(dlon==0 && dlat==0)
   return 0;

 a1 = sin (dlat / 2);
 a2 = sin (dlon / 2);
 a = (a1 * a1) + cos (lat1) * cos (lat2) * a2 * a2;
 sa = sqrt (a);
 if (sa <= 1.0)
   {c = 2 * asin (sa);}
 else
   {c = 2 * asin (1.0);}
 d = 6378137 * c; //in meters

 return d;
}

/**
 * Example Usage
 * Download srtm HGT files ie from http://dds.cr.usgs.gov/srtm/version2_1/SRTM3/
 */
int main() {
    
    float h1 = srtmGetElevation(50, 14);
    printf("height %f (= 271)\n", h1);
    float h2 = srtmGetElevation(50.10083, 14.30987);
    printf("height %f (= 330.57)\n\n", h2);
    
    test();

    printf("\nsrtmGetAscentDescent(50, 14, 50.10083, 14.30987):\n");
    //TSrtmAscentDescent ad = srtmGetAscentDescent(48, 12, 50.10083, 20.30987);
    
    double dist = distance(50, 14, 50.10083, 14.30987);
    TSrtmAscentDescent ad = srtmGetAscentDescent(50, 14, 50.10083, 14.30987, dist);
    
    printf("ascent:%0.1f = 506.6, descent:%0.1f = 447.1\n", ad.ascent, ad.descent);
    printf("ascentOn:%0.1f , descentOn:%0.1f\n", ad.ascentOn, ad.descentOn);
    
    
    srtmClose();
    
    return 0;
}